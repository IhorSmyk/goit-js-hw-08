{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAUC,SAASC,cAAc,kBACvCF,EAAQG,iBAAiB,UAIzB,SAAsBC,GACpBA,EAAEC,iBACF,MAAMC,EAAW,IAAIC,SAASH,EAAEI,eAC1BC,EAAY,GAClB,IAAK,MAAOC,EAAKC,KAAUL,EAASM,UAAW,CAC7C,GAAc,KAAVD,EAEF,YADAE,MAAM,yBAGRJ,EAAUC,GAAOC,C,CAEnBG,QAAQC,IAAIN,GACZL,EAAEI,cAAcQ,QAChBC,aAAaC,WApBK,sB,IAIpBlB,EAAQG,iBAAiB,SAAS,EAAAL,EAAAqB,WAmBlC,SAAqBf,GACnB,MAAMgB,KAAEA,EAAIT,MAAEA,GAAUP,EAAEiB,OACpBC,EAAaC,KAAKC,MAAMP,aAAaQ,QAzBzB,wBA0BlB,GAAIH,EAAY,CACd,MAAMhB,EAAW,IACZgB,EACHF,CAACA,GAAOT,GAEVM,aAAaS,QA/BG,sBA+BkBH,KAAKI,UAAUrB,G,KAC5C,CACL,MAAMA,EAAW,CAAEc,CAACA,GAAOT,GAC3BM,aAAaS,QAlCG,sBAkCkBH,KAAKI,UAAUrB,G,IA9BG,MAkCxD,WACE,MAAMgB,EAAaC,KAAKC,MAAMP,aAAaQ,QAvCzB,wBAwClB,GAAIH,EAAY,CACKM,OAAOC,KAAKP,GACpBQ,SAAQC,IACH/B,EAAQgC,SAASD,GACzBpB,MAAQW,EAAWS,EAAU,G,EAvCzCE","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst KEY_STORAGE = 'feedback-form-state';\n\nconst formRef = document.querySelector('.feedback-form');\nformRef.addEventListener('submit', onFormSubmit);\nformRef.addEventListener('input', throttle(onTextInput, 500));\npopulateText();\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const formData = new FormData(e.currentTarget);\n  const finalData = {};\n  for (const [key, value] of formData.entries()) {\n    if (value === '') {\n      alert('не всі поля заповнені');\n      return;\n    }\n    finalData[key] = value;\n  }\n  console.log(finalData);\n  e.currentTarget.reset();\n  localStorage.removeItem(KEY_STORAGE);\n}\n\nfunction onTextInput(e) {\n  const { name, value } = e.target;\n  const parsedData = JSON.parse(localStorage.getItem(KEY_STORAGE));\n  if (parsedData) {\n    const formData = {\n      ...parsedData,\n      [name]: value,\n    };\n    localStorage.setItem(KEY_STORAGE, JSON.stringify(formData));\n  } else {\n    const formData = { [name]: value };\n    localStorage.setItem(KEY_STORAGE, JSON.stringify(formData));\n  }\n}\n\nfunction populateText() {\n  const parsedData = JSON.parse(localStorage.getItem(KEY_STORAGE));\n  if (parsedData) {\n    const inputNames = Object.keys(parsedData);\n    inputNames.forEach(inputName => {\n      const input = formRef.elements[inputName];\n      input.value = parsedData[inputName];\n    });\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formRef","document","querySelector","addEventListener","e","preventDefault","formData","FormData","currentTarget","finalData","key","value","entries","alert","console","log","reset","localStorage","removeItem","throttle","name","target","parsedData","JSON","parse","getItem","setItem","stringify","Object","keys","forEach","inputName","elements","$945622fd0f572e60$var$populateText"],"version":3,"file":"03-feedback.eaf37753.js.map"}